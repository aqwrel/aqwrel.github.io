{"version":3,"sources":["webpack:///./src/views/profile/ProfilePassword.vue?190a","webpack:///./src/validation/profile/ProfilePassword/Rules.js","webpack:///./src/validation/profile/ProfilePassword/Messages.js","webpack:///src/views/profile/ProfilePassword.vue","webpack:///./src/views/profile/ProfilePassword.vue?54f7","webpack:///./src/views/profile/ProfilePassword.vue","webpack:///./src/views/profile/ProfilePassword.vue?d1ca"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","settingsBreadcrumbs","scopedSlots","_u","key","fn","showModal","on","validate","$event","confirm","proxy","staticClass","password","showPassword","validationMessage","$v","$dirty","$anyError","nativeOn","$touch","model","value","callback","$$v","$set","expression","$params","passwordStrengthTest","password2","staticRenderFns","validationRules","required","minLength","maxLength","validatePassword","result","sameAs","formMessages","min","max","message","component"],"mappings":"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","file":"js/_profile-password.f68e57f2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main-layout',{attrs:{\"settings-breadcrumbs\":_vm.settingsBreadcrumbs},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('profile-form-layout',{attrs:{\"show-modal\":_vm.showModal},on:{\"validate\":_vm.validate,\"close-modal\":function($event){_vm.showModal=false},\"confirm\":_vm.confirm},scopedSlots:_vm._u([{key:\"headerIcon\",fn:function(){return [_c('lock')]},proxy:true},{key:\"form\",fn:function(){return [_c('div',{staticClass:\"profile-info__form mt-7\"},[_c('div',{staticClass:\"profile-info__form-group\"},[_c('div',{staticClass:\"profile-info__form-row\"},[_c('div',{staticClass:\"profile-info__col50 profile-info__column\"},[_c('form-input',{attrs:{\"name\":\"password\",\"legend\":\"Password\",\"prepend-icon\":\"LockIcon\",\"field\":_vm.password,\"append-icon\":_vm.showPassword ? 'EyeIcon' : 'EyeOffIcon',\"type\":_vm.showPassword ? 'text' : 'password',\"errors\":_vm.validationMessage(_vm.$v.password),\"is-valid\":_vm.$v.password.$dirty && !_vm.$v.password.$anyError},on:{\"update:field\":function($event){_vm.password=$event},\"clicked\":function($event){_vm.showPassword = !_vm.showPassword}},nativeOn:{\"input\":function($event){return _vm.$v.password.$touch()},\"blur\":function($event){return _vm.$v.password.$touch()}},model:{value:(_vm.$v.password.$model),callback:function ($$v) {_vm.$set(_vm.$v.password, \"$model\", $$v)},expression:\"$v.password.$model\"}}),_c('progress-linear',{attrs:{\"validate\":_vm.$v.password.$params.passwordStrengthTest}})],1),_c('div',{staticClass:\"profile-info__col50\"},[_c('form-input',{attrs:{\"name\":\"password\",\"legend\":\"Password\",\"prepend-icon\":\"LockIcon\",\"field\":_vm.password2,\"append-icon\":_vm.showPassword ? 'EyeIcon' : 'EyeOffIcon',\"type\":_vm.showPassword ? 'text' : 'password',\"errors\":_vm.validationMessage(_vm.$v.password2),\"is-valid\":_vm.$v.password2.$dirty && !_vm.$v.password2.$anyError},on:{\"update:field\":function($event){_vm.password2=$event},\"clicked\":function($event){_vm.showPassword = !_vm.showPassword}},nativeOn:{\"input\":function($event){return _vm.$v.password2.$touch()},\"blur\":function($event){return _vm.$v.password2.$touch()}},model:{value:(_vm.$v.password2.$model),callback:function ($$v) {_vm.$set(_vm.$v.password2, \"$model\", $$v)},expression:\"$v.password2.$model\"}})],1)])])])]},proxy:true}])})]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n    maxLength, minLength, required, sameAs\n} from 'vuelidate/lib/validators';\n\nexport const validationRules = {\n    password: {\n        required,\n        minLength: minLength(7),\n        maxLength: maxLength(50),\n        async passwordStrengthTest(value) {\n            // ignore this validator, if any of the previous fail\n            if (!value) return false\n            if (!this.$v.password.required || !this.$v.password.minLength || !this.$v.password.maxLength) {\n                return true\n            }\n            const result = await this.validatePassword(value)\n            this.$v.password.$params.passwordStrengthTest = result\n            return result.value\n        }\n    },\n    password2: {\n        required,\n        sameAs: sameAs('password')\n    }\n}\n","export const formMessages = {\n    required: () => 'Required',\n    minLength: ({ $params }) => `Must be at least ${$params.minLength.min} characters.`,\n    maxLength: ({ $params }) => `Must be less than ${$params.maxLength.max} characters.`,\n    passwordStrengthTest: ({ $params }) => $params.passwordStrengthTest.message,\n    sameAs: () => 'Must be the same'\n    // phoneValidated: () => 'Phone number is invalid'\n};\n","<template lang=\"html\">\n    <main-layout :settings-breadcrumbs=\"settingsBreadcrumbs\">\n        <template #content>\n            <profile-form-layout\n                :show-modal=\"showModal\"\n                @validate=\"validate\"\n                @close-modal=\"showModal=false\"\n                @confirm=\"confirm\"\n            >\n                <template #headerIcon>\n                    <lock />\n                </template>\n                <template #form>\n                    <div class=\"profile-info__form mt-7\">\n                        <div class=\"profile-info__form-group\">\n                            <div class=\"profile-info__form-row\">\n                                <div class=\"profile-info__col50 profile-info__column\">\n                                    <form-input\n                                        v-model=\"$v.password.$model\"\n                                        name=\"password\"\n                                        legend=\"Password\"\n                                        prepend-icon=\"LockIcon\"\n                                        :field.sync=\"password\"\n                                        :append-icon=\"showPassword ? 'EyeIcon' : 'EyeOffIcon'\"\n                                        :type=\"showPassword ? 'text' : 'password'\"\n                                        :errors=\"validationMessage($v.password)\"\n                                        :is-valid=\"$v.password.$dirty && !$v.password.$anyError\"\n                                        @clicked=\"showPassword = !showPassword\"\n                                        @input.native=\"$v.password.$touch()\"\n                                        @blur.native=\"$v.password.$touch()\"\n                                    />\n                                    <progress-linear :validate=\"$v.password.$params.passwordStrengthTest\" />\n                                </div>\n\n                                <div class=\"profile-info__col50\">\n                                    <form-input\n                                        v-model=\"$v.password2.$model\"\n                                        name=\"password\"\n                                        legend=\"Password\"\n                                        prepend-icon=\"LockIcon\"\n                                        :field.sync=\"password2\"\n                                        :append-icon=\"showPassword ? 'EyeIcon' : 'EyeOffIcon'\"\n                                        :type=\"showPassword ? 'text' : 'password'\"\n                                        :errors=\"validationMessage($v.password2)\"\n                                        :is-valid=\"$v.password2.$dirty && !$v.password2.$anyError\"\n                                        @clicked=\"showPassword = !showPassword\"\n                                        @input.native=\"$v.password2.$touch()\"\n                                        @blur.native=\"$v.password2.$touch()\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </template>\n            </profile-form-layout>\n        </template>\n    </main-layout>\n</template>\n\n<script>\nimport { eventBus } from '@/helpers/event-bus/'\n\nimport { validationMixin } from 'vuelidate'\nimport formValidationMixin from '@/mixins/formValidationMixin'\nimport passwordValidationMixin from '@/mixins/passwordValidationMixin'\nimport { validationMessage } from 'vuelidate-messages'\nimport { validationRules } from '@/validation/profile/ProfilePassword/Rules'\nimport { formMessages } from '@/validation/profile/ProfilePassword/Messages'\n\nimport MainLayout from '@/layouts/MainLayout';\nimport ProfileFormLayout from '@/layouts/profile/ProfileFormLayout';\nimport Lock from 'mdi-vue/Lock'\n\nimport { createNamespacedHelpers } from 'vuex';\nimport {\n    ACTION_CLIENT_UPDATE_PASSWORD\n} from '@/store/modules/client/action-types';\n\nconst {\n    mapActions: mapClientActions\n} = createNamespacedHelpers('client');\n\nexport default {\n    components: {\n        MainLayout,\n        ProfileFormLayout,\n        Lock\n    },\n    mixins: [\n        validationMixin,\n        formValidationMixin,\n        passwordValidationMixin\n    ],\n    validations: {\n        ...validationRules\n    },\n    data() {\n        return {\n            showPassword: false,\n            passwordTestResults: {\n                strength: 0,\n                error: false,\n                message: '',\n                color: ''\n            },\n            password: null,\n            password2: null,\n            showModal: false,\n            settingsBreadcrumbs: {\n                title: 'Password',\n                steps: [\n                    { url: '/', title: 'Home' },\n                    { url: '/cp/account', title: 'Account' },\n                    { url: '/cp/profile/password', title: 'Change Password' }\n                ],\n                additionalClass: 'bc-wrapper bc-wrapper_user-account bc-wrapper--setting bc-right-bottom bc-horizontal'\n            }\n        }\n    },\n    mounted() {\n        eventBus.$on('saveSettings', () => {\n            this.validate()\n        })\n    },\n    beforeDestroy() {\n        eventBus.$off('saveSettings')\n    },\n    methods: {\n        validationMessage: validationMessage(formMessages),\n        ...mapClientActions({\n            updatePassword: ACTION_CLIENT_UPDATE_PASSWORD\n        }),\n        confirm() {\n            try {\n                const response = this.updatePassword({\n                    password: this.password\n                })\n                if (response) {\n                    eventBus.$emit('showSnackBar', 'Your password has been changed.', 'success');\n                    this.$router.push({ name: 'profile' })\n                }\n            } catch (err) {\n                eventBus.$emit('showSnackBar', 'Failed to update email.', 'error');\n            }\n        },\n        submit() {\n            this.showModal = true\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profile .profile-info__column {\n    flex-direction: column !important;\n}\n.profile-info__form-row {\n    .profile-info__col50 {\n        margin-top: 0 !important;\n    }\n}\n@media screen and (max-width: 768px){\n    .profile-info__form-row {\n        .profile-info__col50:nth-child(2) {\n            margin-top: 24px !important;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfilePassword.vue?vue&type=template&id=2ca8b7bd&scoped=true&lang=html&\"\nimport script from \"./ProfilePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfilePassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProfilePassword.vue?vue&type=style&index=0&id=2ca8b7bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ca8b7bd\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilePassword.vue?vue&type=style&index=0&id=2ca8b7bd&lang=scss&scoped=true&\""],"sourceRoot":""}