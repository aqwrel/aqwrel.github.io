(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["_profile-password"],{"2ad8":function(s,e,r){"use strict";r.r(e);var a=function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("main-layout",{attrs:{"settings-breadcrumbs":s.settingsBreadcrumbs},scopedSlots:s._u([{key:"content",fn:function(){return[r("profile-form-layout",{attrs:{"show-modal":s.showModal},on:{validate:s.validate,"close-modal":function(e){s.showModal=!1},confirm:s.confirm},scopedSlots:s._u([{key:"headerIcon",fn:function(){return[r("lock")]},proxy:!0},{key:"form",fn:function(){return[r("div",{staticClass:"profile-info__form mt-7"},[r("div",{staticClass:"profile-info__form-group"},[r("div",{staticClass:"profile-info__form-row"},[r("div",{staticClass:"profile-info__col50 profile-info__column"},[r("form-input",{attrs:{name:"password",legend:"Password","prepend-icon":"LockIcon",field:s.password,"append-icon":s.showPassword?"EyeIcon":"EyeOffIcon",type:s.showPassword?"text":"password",errors:s.validationMessage(s.$v.password),"is-valid":s.$v.password.$dirty&&!s.$v.password.$anyError},on:{"update:field":function(e){s.password=e},clicked:function(e){s.showPassword=!s.showPassword}},nativeOn:{input:function(e){return s.$v.password.$touch()},blur:function(e){return s.$v.password.$touch()}},model:{value:s.$v.password.$model,callback:function(e){s.$set(s.$v.password,"$model",e)},expression:"$v.password.$model"}}),r("progress-linear",{attrs:{validate:s.$v.password.$params.passwordStrengthTest}})],1),r("div",{staticClass:"profile-info__col50"},[r("form-input",{attrs:{name:"password",legend:"Password","prepend-icon":"LockIcon",field:s.password2,"append-icon":s.showPassword?"EyeIcon":"EyeOffIcon",type:s.showPassword?"text":"password",errors:s.validationMessage(s.$v.password2),"is-valid":s.$v.password2.$dirty&&!s.$v.password2.$anyError},on:{"update:field":function(e){s.password2=e},clicked:function(e){s.showPassword=!s.showPassword}},nativeOn:{input:function(e){return s.$v.password2.$touch()},blur:function(e){return s.$v.password2.$touch()}},model:{value:s.$v.password2.$model,callback:function(e){s.$set(s.$v.password2,"$model",e)},expression:"$v.password2.$model"}})],1)])])])]},proxy:!0}])})]},proxy:!0}])})},t=[],o=r("5530"),n=r("41bd"),i=r("1dce"),d=r("6cf0"),c=r("727b"),u=r("376d"),p=(r("96cf"),r("1da1")),l=r("b5ae"),w={password:{required:l["required"],minLength:Object(l["minLength"])(7),maxLength:Object(l["maxLength"])(50),passwordStrengthTest:function(s){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s){r.next=2;break}return r.abrupt("return",!1);case 2:if(e.$v.password.required&&e.$v.password.minLength&&e.$v.password.maxLength){r.next=4;break}return r.abrupt("return",!0);case 4:return r.next=6,e.validatePassword(s);case 6:return a=r.sent,e.$v.password.$params.passwordStrengthTest=a,r.abrupt("return",a.value);case 9:case"end":return r.stop()}}),r)})))()}},password2:{required:l["required"],sameAs:Object(l["sameAs"])("password")}},f={required:function(){return"Required"},minLength:function(s){var e=s.$params;return"Must be at least ".concat(e.minLength.min," characters.")},maxLength:function(s){var e=s.$params;return"Must be less than ".concat(e.maxLength.max," characters.")},passwordStrengthTest:function(s){var e=s.$params;return e.passwordStrengthTest.message},sameAs:function(){return"Must be the same"}},m=r("713b"),h=r("5c2f"),v=r("cdf2"),$=r("2f62"),b=r("3adc"),g=Object($["a"])("client"),y=g.mapActions,x={components:{MainLayout:m["a"],ProfileFormLayout:h["a"],Lock:v["a"]},mixins:[i["validationMixin"],d["a"],c["a"]],validations:Object(o["a"])({},w),data:function(){return{showPassword:!1,passwordTestResults:{strength:0,error:!1,message:"",color:""},password:null,password2:null,showModal:!1,settingsBreadcrumbs:{title:"Password",steps:[{url:"/",title:"Home"},{url:"/cp/account",title:"Account"},{url:"/cp/profile/password",title:"Change Password"}],additionalClass:"bc-wrapper bc-wrapper_user-account bc-wrapper--setting bc-right-bottom bc-horizontal"}}},mounted:function(){var s=this;n["a"].$on("saveSettings",(function(){s.validate()}))},beforeDestroy:function(){n["a"].$off("saveSettings")},methods:Object(o["a"])(Object(o["a"])({validationMessage:Object(u["validationMessage"])(f)},y({updatePassword:b["l"]})),{},{confirm:function(){try{var s=this.updatePassword({password:this.password});s&&(n["a"].$emit("showSnackBar","Your password has been changed.","success"),this.$router.push({name:"profile"}))}catch(e){n["a"].$emit("showSnackBar","Failed to update email.","error")}},submit:function(){this.showModal=!0}})},k=x,_=(r("437e"),r("2877")),P=Object(_["a"])(k,a,t,!1,null,"2ca8b7bd",null);e["default"]=P.exports},"437e":function(s,e,r){"use strict";r("e49c")},e49c:function(s,e,r){}}]);
//# sourceMappingURL=_profile-password.459aba8a.js.map