(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["_profile-email"],{"205d":function(e,t,a){},"365a":function(e,t,a){"use strict";a("205d")},"6b10":function(e,t,a){"use strict";a("e670")},"6b1b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main-layout",{attrs:{"settings-breadcrumbs":e.settingsBreadcrumbs},scopedSlots:e._u([{key:"content",fn:function(){return[a("profile-form-layout",{attrs:{"show-modal":e.showModal},on:{validate:e.validate,"close-modal":function(t){e.showModal=!1},confirm:e.confirm},scopedSlots:e._u([{key:"form",fn:function(){return[a("div",{staticClass:"profile-info__form"},[a("div",{staticClass:"profile-info__form-group"},[a("div",{staticClass:"profile-info__form-row"},[a("form-radio-group",{staticClass:"profile-info__form--radio_group",attrs:{errors:e.validationMessage(e.$v.paymethod)},nativeOn:{input:function(t){return e.$v.paymethod.$touch()},blur:function(t){return e.$v.paymethod.$touch()}}},[a("div",{staticClass:"checkout__payment checkout-paypal",attrs:{id:"paymentForm"}},[a("form-input-radio",{attrs:{field:e.paymethod,text:"PayPal",data:"paypal","is-checked":"paypal"===e.paymethod,name:"paypal"},on:{"update:field":function(t){e.paymethod=t}},model:{value:e.$v.paymethod.$model,callback:function(t){e.$set(e.$v.paymethod,"$model",t)},expression:"$v.paymethod.$model"}})],1),a("div",{staticClass:"checkout__payment checkout-credit"},[a("form-input-radio",{attrs:{field:e.paymethod,data:"payoneer","is-checked":"payoneer"===e.paymethod,text:"Payoneer.com Mastercard",name:"payoneer"},on:{"update:field":function(t){e.paymethod=t}},model:{value:e.$v.paymethod.$model,callback:function(t){e.$set(e.$v.paymethod,"$model",t)},expression:"$v.paymethod.$model"}})],1)])],1),"paypal"===e.paymethod?a("div",{staticClass:"profile-info__form-row"},[a("div",{staticClass:"profile-info__col50"},[a("form-input",{attrs:{legend:"Email address","prepend-icon":"EmailOutlineIcon",type:"text",name:"email",field:e.email1,errors:e.validationMessage(e.$v.email1),"is-valid":e.$v.email1.$dirty&&!e.$v.email1.$anyError},on:{"update:field":function(t){e.email1=t}},nativeOn:{input:function(t){return e.$v.email1.$touch()},blur:function(t){return e.$v.email1.$touch()}},model:{value:e.$v.email1.$model,callback:function(t){e.$set(e.$v.email1,"$model",t)},expression:"$v.email1.$model"}})],1),a("div",{staticClass:"profile-info__col50"},[a("form-input",{attrs:{legend:"Email address","prepend-icon":"EmailOutlineIcon",type:"text",name:"email",field:e.email2,errors:e.validationMessage(e.$v.email2),"is-valid":e.$v.email2.$dirty&&!e.$v.email2.$anyError},on:{"update:field":function(t){e.email2=t}},nativeOn:{input:function(t){return e.$v.email2.$touch()},blur:function(t){return e.$v.email2.$touch()}},model:{value:e.$v.email2.$model,callback:function(t){e.$set(e.$v.email2,"$model",t)},expression:"$v.email2.$model"}})],1)]):e._e()])])]},proxy:!0}])})]},proxy:!0}])})},n=[],o=a("5530"),r=a("41bd"),l=a("1dce"),s=a("376d"),m=a("6cf0"),u=a("b5ae"),c={paymethod:{required:u["required"]},email1:{required:Object(u["requiredIf"])("isPaypal"),email:u["email"]},email2:{required:Object(u["requiredIf"])("isPaypal"),isSameEmail:function(e){return"paypal"!==this.$v.paymethod.$model||this.email1===e}}},d={required:function(){return"Required"},email:function(){return"Must be a valid e-mail"},emailFunction:function(){return"Not a valid e-mail"},isSameEmail:function(){return"Must be the same"}},p=a("713b"),f=a("5c2f"),h=a("2f62"),v=a("3adc"),b=a("c581"),$=a("7960"),y=a("b4a6"),g=Object(h["a"])("client"),w=g.mapActions,_={components:{FormInputRadio:y["a"],FormRadioGroup:$["a"],MainLayout:p["a"],ProfileFormLayout:f["a"]},mixins:[l["validationMixin"],m["a"]],validations:Object(o["a"])({},c),data:function(){return{paymethod:"paypal",email1:"",email2:"",showModal:!1,settingsBreadcrumbs:{title:"Withdrawal Method",steps:[{url:"/",title:"Home"},{url:"/cp/account",title:"Account"},{url:"/cp/profile/payment-method",title:"Change Withdrawal Method"}],additionalClass:"bc-wrapper bc-wrapper_user-account bc-wrapper--setting bc-right-bottom bc-horizontal"}}},computed:Object(o["a"])(Object(o["a"])({},Object(b["b"])(["client_data.aff_paymethod","client_data.aff_paypal_email","client_data.email"])),{},{isPaypal:function(){return"paypal"===this.paymethod},defaultEmail:function(){return this.isPaypal?this.email1:this.email}}),watch:{aff_paymethod:function(e){"paypal"===e&&(this.email1="",this.email2="")}},mounted:function(){var e=this;r["a"].$on("saveSettings",(function(){e.$v.$reset(),e.validate()}))},beforeDestroy:function(){r["a"].$off("saveSettings")},methods:Object(o["a"])(Object(o["a"])({validationMessage:Object(s["validationMessage"])(d)},w({checkEmail:v["b"],askForPassword:v["a"],updatePaymethod:v["m"]})),{},{confirm:function(){var e=this;try{this.updatePaymethod({paymethod:this.paymethod,email:this.defaultEmail}).then((function(){r["a"].$emit("showSnackBar","Your settings have been changed","success"),e.$router.push({name:"profile"})}))}catch(t){console.log(t)}},submit:function(){this.showModal=!0}})},k=_,x=(a("365a"),a("2877")),O=Object(x["a"])(k,i,n,!1,null,null,null);t["default"]=O.exports},ded4:function(e,t,a){"use strict";var i=a("bf6e"),n={name:"mdi-email-outline",props:{width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},size:{type:[Number,String],default:24},viewBox:{type:[String],default:"0 0 24 24"},xmlns:{type:String,default:"http://www.w3.org/2000/svg"},ariaLabel:{type:String,default:"EmailOutline icon"},role:{type:String,default:"img"},title:{type:String,required:!1},spin:{type:Boolean,default:!1}}};const o=n;var r=function(e,t){var a=t._c;return a("span",{class:[t.data.staticClass,"mdi","mdi-email-outline",t.props.spin?"mdi-spin":void 0],attrs:{role:t.props.role,"aria-label":t.props.ariaLabel}},[a("svg",{attrs:{fill:"currentColor",width:t.props.width||t.props.size,height:t.props.height||t.props.size,viewBox:t.props.viewBox,xmlns:t.props.xmlns}},[t.title?a("title",[t._v(t._s(t.title))]):t._e(),t._v(" "),a("path",{attrs:{d:"M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z"}})])])},l=[];r._withStripped=!0;const s=function(e){e&&e("data-v-a6fb989e_0",{source:".mdi > svg {\n  vertical-align: middle;\n}\n.mdi.mdi-spin > svg {\n  -webkit-animation: mdi-spin 2s infinite linear;\n     -moz-animation: mdi-spin 2s infinite linear;\n          animation: mdi-spin 2s infinite linear;\n}\n@-webkit-keyframes mdi-spin {\n0% {\n      -webkit-transform: rotate(0deg);\n         -moz-transform: rotate(0deg);\n              transform: rotate(0deg);\n}\n100% {\n      -webkit-transform: rotate(360deg);\n         -moz-transform: rotate(360deg);\n              transform: rotate(360deg);\n}\n}\n@keyframes mdi-spin {\n0% {\n      -webkit-transform: rotate(0deg);\n         -moz-transform: rotate(0deg);\n              transform: rotate(0deg);\n}\n100% {\n      -webkit-transform: rotate(360deg);\n         -moz-transform: rotate(360deg);\n              transform: rotate(360deg);\n}\n}",map:void 0,media:void 0})},m=void 0,u=void 0,c=!0,d=Object(i["b"])({render:r,staticRenderFns:l},s,o,m,c,u,!1,i["a"],void 0,void 0);t["a"]=d},e670:function(e,t,a){},f983:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main-layout",{attrs:{"settings-breadcrumbs":e.settingsBreadcrumbs},scopedSlots:e._u([{key:"content",fn:function(){return[a("profile-form-layout",{attrs:{"show-modal":e.showModal},on:{validate:e.validate,"close-modal":function(t){e.showModal=!1},confirm:e.confirm},scopedSlots:e._u([{key:"headerIcon",fn:function(){return[a("email-outline")]},proxy:!0},{key:"form",fn:function(){return[a("div",{staticClass:"profile-info__form mt-7"},[a("div",{staticClass:"profile-info__form-group"},[a("div",{staticClass:"profile-info__form-row"},[a("div",{staticClass:"profile-info__col50"},[a("form-input",{attrs:{legend:"Email address","prepend-icon":"EmailOutlineIcon",type:"text",name:"email",field:e.emailValue,errors:e.validationMessage(e.$v.email),"is-valid":e.$v.email.$dirty&&!e.$v.email.$anyError},on:{"update:field":function(t){e.emailValue=t}},nativeOn:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.emailValue,callback:function(t){e.emailValue=t},expression:"emailValue"}})],1),a("div",{staticClass:"profile-info__col50"},[a("form-input",{attrs:{legend:"Email address","prepend-icon":"EmailOutlineIcon",type:"text",name:"email",field:e.email2,errors:e.validationMessage(e.$v.email2),"is-valid":e.$v.email2.$dirty&&!e.$v.email2.$anyError},on:{"update:field":function(t){e.email2=t}},nativeOn:{input:function(t){return e.$v.email2.$touch()},blur:function(t){return e.$v.email2.$touch()}},model:{value:e.$v.email2.$model,callback:function(t){e.$set(e.$v.email2,"$model",t)},expression:"$v.email2.$model"}})],1)])])])]},proxy:!0}])})]},proxy:!0}])})},n=[],o=(a("96cf"),a("1da1")),r=a("5530"),l=a("41bd"),s=a("713b"),m=a("5c2f"),u=a("ded4"),c=a("1dce"),d=a("376d"),p=a("6cf0"),f=(a("d3b7"),a("b5ae")),h={email:{required:f["required"],email:f["email"],emailExists:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$v.email.required&&t.$v.email.email){a.next=2;break}return a.abrupt("return",!0);case 2:return a.abrupt("return",new Promise((function(a){var i=t;t.checkEmail({email:e}).then((function(){a(!0)})).catch((function(e){i.$v.email.$params.emailExists=!0,a(e)}))})));case 3:case"end":return a.stop()}}),a)})))()}},email2:{required:f["required"],sameAs:Object(f["sameAs"])("email")}},v={required:function(){return"Required"},email:function(){return"Must be a valid e-mail"},emailExists:function(){return"E-mail already exists"},sameAs:function(){return"Must be the same"}},b=a("2f62"),$=a("3adc"),y=a("bf17"),g=a("2ef0"),w=Object(b["a"])("client"),_=w.mapActions,k=w.mapMutations,x={components:{MainLayout:s["a"],ProfileFormLayout:m["a"],EmailOutline:u["a"]},mixins:[c["validationMixin"],p["a"]],validations:Object(r["a"])({},h),data:function(){return{emailValue:"",email:"",email2:"",showModal:!1,settingsBreadcrumbs:{title:"Email",steps:[{url:"/",title:"Home"},{url:"/cp/account",title:"Account"},{url:"/cp/profile/email",title:"Change Email"}],additionalClass:"bc-wrapper bc-wrapper_user-account bc-wrapper--setting bc-right-bottom bc-horizontal"}}},watch:{emailValue:Object(g["debounce"])((function(e){this.email=e}),300)},mounted:function(){var e=this;l["a"].$on("saveSettings",(function(){e.$v.$reset(),e.validate()}))},beforeDestroy:function(){l["a"].$off("saveSettings")},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({validationMessage:Object(d["validationMessage"])(v)},_({updateEmail:$["k"],clientCheckEmail:$["b"]})),k([y["h"]])),{},{checkEmail:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.clientCheckEmail(e);case 2:case"end":return a.stop()}}),a)})))()},confirm:function(){try{var e=this.updateEmail({email:this.email});e&&(l["a"].$emit("showSnackBar","Your e-mail has been changed","success"),this[y["h"]](this.email),this.$router.push({name:"profile"}))}catch(t){console.log(t)}},submit:function(){this.showModal=!0}})},O=x,E=(a("6b10"),a("2877")),M=Object(E["a"])(O,i,n,!1,null,"2358b1f9",null);t["default"]=M.exports}}]);
//# sourceMappingURL=_profile-email.860ebb1c.js.map